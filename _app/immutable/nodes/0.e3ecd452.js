import{s as F,c as P,u as I,g as L,d as Z}from"../chunks/scheduler.3f19ed1e.js";import{S as k,i as B,d as H,t as Y}from"../chunks/index.6adfb9d4.js";var b={},y={},E=34,A=10,R=13;function z(n){return new Function("d","return {"+n.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function K(n,e){var t=z(n);return function(r,o){return e(t(r),o,n)}}function D(n){var e=Object.create(null),t=[];return n.forEach(function(r){for(var o in r)o in e||t.push(e[o]=o)}),t}function l(n,e){var t=n+"",r=t.length;return r<e?new Array(e-r+1).join(0)+t:t}function V(n){return n<0?"-"+l(-n,6):n>9999?"+"+l(n,6):l(n,4)}function G(n){var e=n.getUTCHours(),t=n.getUTCMinutes(),r=n.getUTCSeconds(),o=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":V(n.getUTCFullYear())+"-"+l(n.getUTCMonth()+1,2)+"-"+l(n.getUTCDate(),2)+(o?"T"+l(e,2)+":"+l(t,2)+":"+l(r,2)+"."+l(o,3)+"Z":r?"T"+l(e,2)+":"+l(t,2)+":"+l(r,2)+"Z":t||e?"T"+l(e,2)+":"+l(t,2)+"Z":"")}function J(n){var e=new RegExp('["'+n+`
\r]`),t=n.charCodeAt(0);function r(a,f){var p,c,u=o(a,function(g,d){if(p)return p(g,d-1);c=g,p=f?K(g,f):z(g)});return u.columns=c||[],u}function o(a,f){var p=[],c=a.length,u=0,g=0,d,j=c<=0,_=!1;a.charCodeAt(c-1)===A&&--c,a.charCodeAt(c-1)===R&&--c;function S(){if(j)return y;if(_)return _=!1,b;var M,v=u,T;if(a.charCodeAt(v)===E){for(;u++<c&&a.charCodeAt(u)!==E||a.charCodeAt(++u)===E;);return(M=u)>=c?j=!0:(T=a.charCodeAt(u++))===A?_=!0:T===R&&(_=!0,a.charCodeAt(u)===A&&++u),a.slice(v+1,M-1).replace(/""/g,'"')}for(;u<c;){if((T=a.charCodeAt(M=u++))===A)_=!0;else if(T===R)_=!0,a.charCodeAt(u)===A&&++u;else if(T!==t)continue;return a.slice(v,M)}return j=!0,a.slice(v,c)}for(;(d=S())!==y;){for(var w=[];d!==b&&d!==y;)w.push(d),d=S();f&&(w=f(w,g++))==null||p.push(w)}return p}function s(a,f){return a.map(function(p){return f.map(function(c){return h(p[c])}).join(n)})}function m(a,f){return f==null&&(f=D(a)),[f.map(h).join(n)].concat(s(a,f)).join(`
`)}function C(a,f){return f==null&&(f=D(a)),s(a,f).join(`
`)}function N(a){return a.map(i).join(`
`)}function i(a){return a.map(h).join(n)}function h(a){return a==null?"":a instanceof Date?G(a):e.test(a+="")?'"'+a.replace(/"/g,'""')+'"':a}return{parse:r,parseRows:o,format:m,formatBody:C,formatRows:N,formatRow:i,formatValue:h}}var Q=J(","),O=Q.parse;function U(n){for(var e in n){var t=n[e].trim(),r,o;if(!t)t=null;else if(t==="true")t=!0;else if(t==="false")t=!1;else if(t==="NaN")t=NaN;else if(!isNaN(r=+t))t=r;else if(o=t.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))W&&o[4]&&!o[7]&&(t=t.replace(/-/g,"/").replace(/T/," ")),t=new Date(t);else continue;n[e]=t}return n}const W=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function X(n,e=5){let t=[[Math.random(),Math.random()]];for(;t.length<n;)t.push(x(t,e));return t}function x(n,e){for(var t,r=0,o=0;o<e;++o){var s=[Math.random(),Math.random()],m=$(tt(n,s),s);m>r&&(r=m,t=s)}return t}function $(n,e){var t=n[0]-e[0],r=n[1]-e[1];return Math.sqrt(t*t+r*r)}function tt(n,e){let t=n[0];for(const r of n)$(e,r)<$(e,t)&&(t=r);return t}const nt=!0,et="always",q="https://docs.google.com/spreadsheets/d/1PqAxz42cbTNnPijSzAcY83aZzjqKbOXivR4iO9LKGno/gviz/tq?tqx=out:csv";function rt(n,e){const t=Math.floor(Math.random()*6);return n<4?["baby",t]:n<13?["child",t]:n<20&&e==="Female"?["fteen",t]:n<20?["mteen",t]:e==="Female"?["fadult",t]:["madult",t]}async function ot({fetch:n}){const e=O(await(await n(`${q}&sheet=content`)).text(),U),t={},r={};for(const i of e)i.value?r[i.key]=i.value:t[i.key]={en:i.en,ar:i.ar};const o=O(await(await n(`${q}&sheet=data`)).text(),U),s=X(o.length);let m=0,C=0;const N=o.map((i,h)=>(i.Age||(i.Age=0),i.Age===1823&&(i.Age=23),C=Math.max(C,i.Age),{...i,x:s[h][0],y:s[h][1],path:rt(i.Age,i["Sex in English"]),flip:Math.round(Math.random())}));return{meta:r,texts:t,people:N,min:m,max:C}}const ut=Object.freeze(Object.defineProperty({__proto__:null,load:ot,prerender:nt,trailingSlash:et},Symbol.toStringTag,{value:"Module"}));function at(n){let e;const t=n[1].default,r=P(t,n,n[0],null);return{c(){r&&r.c()},l(o){r&&r.l(o)},m(o,s){r&&r.m(o,s),e=!0},p(o,[s]){r&&r.p&&(!e||s&1)&&I(r,t,o,o[0],e?Z(t,o[0],s,null):L(o[0]),null)},i(o){e||(H(r,o),e=!0)},o(o){Y(r,o),e=!1},d(o){r&&r.d(o)}}}function it(n,e,t){let{$$slots:r={},$$scope:o}=e;return n.$$set=s=>{"$$scope"in s&&t(0,o=s.$$scope)},[o,r]}class ct extends k{constructor(e){super(),B(this,e,it,at,F,{})}}export{ct as component,ut as universal};
